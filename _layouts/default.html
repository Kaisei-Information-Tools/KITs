
<!doctype html>
<html lang="ja">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script>
    // Initialize theme before page renders to avoid flash
    (function() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) {
        document.documentElement.setAttribute('data-theme', savedTheme);
      } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.documentElement.setAttribute('data-theme', 'dark');
      }
    })();
  </script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/reset.css" />
  <link rel="stylesheet" href="assets/css/base.css" />
  {% if page.css %}
  <link rel="stylesheet" href="assets/css/{{ page.css }}.css" />
  {% endif %} {% if page.css2 %}
  <link rel="stylesheet" href="assets/css/{{ page.css2 }}.css" />
  {% endif %}
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  {% if page.exjs %}
  <script src="{{ page.exjs }}"></script>
  {% endif %} {% if page.exlink %}
  <link rel="{{ page.exrel }}" href="{{ page.exlink }}" />
  {% endif %}
  <title>{{ page.title }} - KITs</title>
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png" />
  <link rel="manifest" href="assets/favicon/site.webmanifest" />
  <link rel="mask-icon" href="assets/favicon/safari-pinned-tab.svg" color="#5bbad5" />
  <meta name="msapplication-TileColor" content="#3c3c6c" />
  <meta name="theme-color" content="#3c3c6c" />
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZEL7FE5N37"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());

    gtag("config", "G-ZEL7FE5N37");
  </script>
  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker
        .register("/sw.js")
        .then((reg) => console.log("Service Worker registered!", reg))
        .catch((err) =>
          console.error("Service Worker registration failed:", err),
        );
    }
  </script>
</head>

<body>
  <nav class="navbar navbar-expand-sm">
    <div class="container-fluid">
      <a class="navbar-brand white" href="index.html">
        <img src="assets/images/logo.svg" width="32px" />
      </a>
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active white" aria-current="page" href="index.html">ホーム</a>
        </li>
        <li class="nav-item">
          <a class="nav-link white" href="about.html">KITsとは？</a>
        </li>
        <li class="nav-item">
          <a class="nav-link white" href="links.html">リンク集</a>
        </li>
        <li class="nav-item">
          <a class="nav-link white" href="https://blog.kits-tools.net/">開発者ブログ・使い方など</a>
        </li>
        <li class="nav-item dropdown">
          <button class="btn btn-theme-2 dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false">
            ツール一覧
          </button>
          <ul class="dropdown-menu dropdown-menu-theme">
            <li><a class="dropdown-item" href="clock">時計</a></li>
            <li><a class="dropdown-item" href="apa">APAスタイル</a></li>
            <li>
              <a class="dropdown-item" href="vertical">縦書きエディタ</a>
            </li>
            <li><a class="dropdown-item" href="todo">todoリスト</a></li>
            <li><a class="dropdown-item" href="group">グループ分け</a></li>
            <li>
              <a class="dropdown-item" href="number">数字→読み方変換</a>
            </li>
            <li><a class="dropdown-item" href="calculator">電卓</a></li>
            <li><a class="dropdown-item" href="timer">タイマー</a></li>
            <li>
              <a class="dropdown-item" href="pomodoro">ポモドーロ時計</a>
            </li>
            <li>
              <a class="dropdown-item" href="stopwatch">ストップウォッチ</a>
            </li>
            <li>
              <a class="dropdown-item" href="https://memo.kits-tools.net">メモ帳</a>
            </li>
            <li><a class="dropdown-item" href="count">カウンター</a></li>
          </ul>
        </li>
        <li class="nav-item ms-2">
          <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
            <i class="fa-solid fa-moon"></i>
            <i class="fa-solid fa-sun"></i>
          </button>
        </li>
      </ul>
    </div>
  </nav>
  <div id="terms-popup">
    <div class="popup-content">
      <h2>利用規約に同意してください</h2>
      <p>
        このサイトを利用する前に、<a href="terms.html" target="_blank">利用規約・プライバシーポリシー</a>をお読みください。
        <br />続行するには<wbr />「同意する」<wbr />をクリックしてください。
      </p>
      <button class="accept">同意する</button>
    </div>
  </div>
  {% if page.no_popup != true %}
  <script>
    document
      .querySelector(".popup-content .accept")
      .addEventListener("click", function () {
        // ユーザーの同意をCookieまたはローカルストレージに保存
        localStorage.setItem("termsAccepted", "true");
        // ポップアップを非表示にする
        document.getElementById("terms-popup").style.display = "none";
      });

    // ページ読み込み時に同意済みか確認
    window.addEventListener("load", function () {
      if (localStorage.getItem("termsAccepted") !== "true") {
        document.getElementById("terms-popup").style.display = "flex";
      }
    }); // ローカルストレージを確認
  </script>
  {% endif %}
  <script>
    if (!localStorage.getItem("surveyAnswered3")) {
      var toastEl = document.getElementById("liveToast");
      var toast = new bootstrap.Toast(toastEl, {autohide: false});
      toast.show();
    }

    // チェックボックスの変更を監視
    document
      .getElementById("answeredCheck")
      .addEventListener("change", function () {
        if (this.checked) {
          // ローカルストレージにデータを書き込み
          localStorage.setItem("surveyAnswered3", "true");
        }
      });
  </script>
  {{ content }}
  <footer>
    <p>&copy; 2024 - 2025 Kaisei Information Technology for support</p>
  </footer>
  {% if page.js %}
  <script src="assets/js/{{ page.js }}.js" defer></script>
  {% endif %}
  <script>
    // Theme toggle functionality
    const themeToggle = document.getElementById("theme-toggle");
    if (themeToggle) {
      themeToggle.addEventListener("click", () => {
        const currentTheme = document.documentElement.getAttribute("data-theme");
        if (currentTheme === "dark") {
          document.documentElement.removeAttribute("data-theme");
          localStorage.setItem("theme", "light");
        } else {
          document.documentElement.setAttribute("data-theme", "dark");
          localStorage.setItem("theme", "dark");
        }
      });
    }
  </script>
</body>

</html>
