---
layout: default_new
title: 席替えツール
css: seat
js: seat
exjs: https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js
old_base_css: true
---

<div class="container">
  <div class="title">席替えツール</div>

  <!-- 設定パネル -->
  <div class="settings-box">
    <h3 class="setting-title"><i class="fa-solid fa-layer-group"></i> 教室レイアウト</h3>
    
    <div class="row g-3 mb-4">
      <div class="col-12">
        <label for="layout-mode" class="form-label">パターンの選択</label>
        <select id="layout-mode" class="text-input" style="height: auto; padding: 0.6rem;">
          <option value="normal">通常教室</option>
          <option value="science1">実験室1,3 (5×2)</option>
          <option value="combined">実験室2,4 (3×2)</option>
          <option value="dice5">実験室5</option>
          <option value="science2">実験室6 (2×5)</option>
        </select>
      </div>

      <div id="normal-settings" class="row g-3 mt-1">
        <div class="col-6">
          <label for="rows" class="form-label">行数 (縦)</label>
          <input type="number" id="rows" class="text-input" value="6" min="1" max="20">
        </div>
        <div class="col-6">
          <label for="cols" class="form-label">列数 (横)</label>
          <input type="number" id="cols" class="text-input" value="6" min="1" max="20">
        </div>
      </div>
    </div>

    <hr class="setting-divider">

    <h3 class="setting-title"><i class="fa-solid fa-sliders"></i> 配席モード</h3>
    <div class="mb-4">
      <div class="btn-group w-100" role="group" aria-label="Distribution Mode">
        <input type="radio" class="btn-check" name="dist-mode" id="dist-front" value="front" checked>
        <label class="btn btn-outline-secondary" for="dist-front" style="border-color: var(--glass-border-strong); color: var(--text-primary);">
          <i class="fa-solid fa-arrow-down-short-wide"></i> 前から詰める
        </label>
      
        <input type="radio" class="btn-check" name="dist-mode" id="dist-balanced" value="balanced">
        <label class="btn btn-outline-secondary" for="dist-balanced" style="border-color: var(--glass-border-strong); color: var(--text-primary);">
          <i class="fa-solid fa-scale-balanced"></i> 机ごとに均等
        </label>
      </div>
    </div>

    <hr class="setting-divider">

    <h3 class="setting-title"><i class="fa-solid fa-users"></i> メンバー設定</h3>
    
    <div class="mb-3">
      <div class="d-flex align-items-center gap-2 mb-2">
        <label class="form-label m-0">人数を指定して自動入力:</label>
        <input type="number" id="dummy-count" class="text-input" value="36" min="1" style="width: 80px; padding: 0.3rem;">
        <button id="generate-dummy-btn" class="button" style="width: auto; height: auto; padding: 0.4rem 1rem; font-size: 0.9rem;">
          生成
        </button>
      </div>
      
      <label for="names" class="form-label">参加者リスト (1行に1名)</label>
      <textarea id="names" class="text-input" rows="5" placeholder="1&#13;&#10;2&#13;&#10;3..."></textarea>
      
      <div class="d-flex justify-content-between mt-2">
        <small class="text-muted">※座席をクリックすると「使用不可」にできます</small>
        <small id="count-display">人数: 0 / 席: 0</small>
      </div>
    </div>

    <div class="d-flex gap-2">
      <button id="shuffle-btn" class="submit ruby w-100 py-3 fs-5" style="margin-top:0;">
        <i class="fa-solid fa-shuffle"></i> 席替え実行
      </button>
      
      <button id="download-btn" class="submit emerald w-50 py-3 fs-5" style="margin-top:0;">
        <i class="fa-solid fa-camera"></i> 保存
      </button>
    </div>
  </div>

  <!-- 結果表示エリア -->
  <div class="classroom-container" id="capture-target">
    <div class="pulpit">教卓 / SCREEN</div>
    <div id="seat-map" class="seat-map"></div>
  </div>
</div>
