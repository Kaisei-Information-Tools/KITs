---
layout: default_new
title: タイムシフトカメラ
css: timeshift
js: timeshift
old_base_css: true
---

<h1>タイムシフトカメラ</h1>

<div class="description-box">
  <p>
    カメラの映像を指定した秒数だけ遅らせて表示します。「開始」を押すと現在の映像と遅れ鏡の両方が表示されます。
  </p>
</div>

<div class="timeshift-container" id="timeshift-container">
  <!-- Left: Main Video Display -->
  <div class="video-main-wrapper">
    <div class="video-main-container">
      <video id="video" autoplay playsinline style="display: none"></video>
      <canvas id="canvas"></canvas>
      <div id="no-camera-message" class="no-camera" style="display: none">
        <i class="fa-solid fa-video-slash"></i>
        <p>カメラが利用できません</p>
      </div>
    </div>
  </div>

  <!-- Right: Control Panel -->
  <div class="control-panel">
    <!-- Delay Time Input -->
    <div class="control-item">
      <label for="delay-input">遅延秒数</label>
      <div class="control-row">
        <input type="number" id="delay-input" class="delay-input" min="0.1" max="600" step="0.1" value="10" />
        <button id="apply-delay-button" class="button border apply-btn">
          決定
        </button>
      </div>
    </div>

    <!-- Action Buttons -->
    <div class="control-item">
      <button id="start-button" class="button border control-btn start-btn">
        開始
      </button>
      <button id="stop-button" class="button border control-btn" disabled>
        停止
      </button>
    </div>

    <!-- Fullscreen Button -->
    <div class="control-item">
      <button id="fullscreen-button" class="button border control-btn fullscreen-btn">
        全画面表示
      </button>
    </div>

    <!-- Preview Section -->
    <div class="control-item preview-item" id="preview-section" style="display: none">
      <label>現在の映像</label>
      <div class="preview-container">
        <video id="video-live" autoplay playsinline></video>
        <div id="no-camera-message-live" class="no-camera" style="display: none">
          <i class="fa-solid fa-video-slash"></i>
          <p>カメラが利用できません</p>
        </div>
      </div>
    </div>
  </div>
</div>
